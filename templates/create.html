{% from "_form_helpers.html" import render_error, render_textarea %}
{% extends "/layout/main.html" %}

<!-- THIS IS FOR creating trip general info -->

{% block body %}

		<div class="header">
			<!--<a class="logo" href="home.html"><img src="images/packeasy.png" alt="Packeasy" /></a>-->
			<a href="/home"><h1>Packeasy</h1></a>
		</div><!--header-->

		<div class="main">
			<div class="trip_name">
				<input type = "text" id = "gmail_id" value = "Type Trip Name" />
			</div><!--trip_name-->

			<div class="trip_schedule">
				<div class="schedule_header">
					<h2>{{ formType }}Schedule</h2>
					{# display any Flash/Session messages #}
					{% with messages = get_flashed_messages() %}
          			{% if messages %}
            			{% for message in messages %}
            			  <p><span class="alert alert-success">{{ message }}</span></p>
            			{% endfor %}
    			      {% endif %}
    			    {% endwith %}
    			    {# end of Flash/Sesssion messages #}

    			    {# display form errors #}
					{% if form.errors %}
				    <ul class="errors">
				        {% for field_name, field_errors in form.errors|dictsort if field_errors %}
				            {% for error in field_errors %}
				                <li class="alert">{{ form[field_name].label }}: {{ error }}</li>
				            {% endfor %}
				        {% endfor %}
				    </ul>
					{% endif %}

				</div>


			<form method = "POST">

				{#
				Csrf token will be a unique token generated by Flask to validate real user is submitting the form. A form post without the token will not be processed.
				#}

				{{ form.csrf_token }}

				{{ form.startdate.label }}
				{{ form.startdate }}

				{{ form.enddate.label }}
				{{ form.enddate }}

				{{ form.location.label }}
				{{ form.location }}

				{{ form.reminder.label }}
				{{ form.reminder }}

				<br>
				<input type = "submit" value = "Save Your Travel">
			</form>
			</div>

			<br />
			
			<!--trip_schedule-->
			<!-- <br>

			<div class="column span6">
				<h3>Edit Your Travel</h3>
					{% for t in allTrip %}
					<div class="">
						<a href="/create/{{t.tripname}}">{{ t.tripname }}</a>
						<br>
						{{ t.tripname }}
						<br>
						by: <a href="/create/{{ t.user.username }}">{{ t.user.username }}</a>
					</div>
					<hr>
				{% endfor %}
			</div>
 -->
			<div class="packing_list">
				<div class="packing_header">
					<h2>Packing List</h2>
				</div>

				<div class="wrapper">
					<div class="accordionButton">
						FROM EXISTING TRIPS
					</div>
					<div class="accordionContent">
						<table border="1" cellpadding="0" cellspacing="0">
							{% for t in allTrip %}
								<tr onmouseover="ChangeColor(this, true);" onmouseout="ChangeColor(this, false);" onclick="DoNav('/create');">
								<td>{{ t.startdate }} to {{ t.enddate }}</td>
								<td>{{ t.location }}</td>
								<td>{{ t.listname }}</td>
								</tr>
							{% endfor %}

			
						</table>
					</div>
					
					<!-- <div class="accordionButton">
						SAMPLE
					</div>
					<div class="accordionContent">
						<a href="sample_trip.html">Sample_01</a><br>
						<a href="sample_trip.html">Sample_02</a><br>
						<a href="sample_trip.html">Sample_03</a><br>
					</div>
					
					<div class="accordionButton">
						<a href="/new_trip.html">FROM SCRATCH</a>
					</div> -->
				</div>
				<br>
				<br>
				<a href="/newtrip">
				<!-- <button type="button">
					Save
				</button> </a> -->

			</div><!--packing_list-->
		</div><!--page-->


{% endblock %}


{% block styles %}{% endblock %}
{% block scripts %}
<script type="text/javascript">
			function ChangeColor(tableRow, highLight) {
				if (highLight) {
					tableRow.style.backgroundColor = '#dcfac9';
				} else {
					tableRow.style.backgroundColor = 'white';
				}
			}

			function DoNav(theUrl) {
				document.location.href = theUrl;
			}
		</script>

{% endblock %}